<div class="_width100" style="display: flex; justify-content: center;">
  <table class="_width100" style="max-width: 700px">
    {% for plan_name, plan_post_summary in plan_post_summary_map.items  %}
      <thead>
        <tr>
          <th colspan="2" class="_alignCenter">{{ plan_name }}</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th class="tooltip -tooltip-right _width50">
            月額
          </th>
          <td>{{ plan_post_summary.support_price }}円</td>
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            バックナンバー
            <span class="tooltiptext">
              バックナンバー設定がある場合、入会月以前のコンテンツを視聴するためには1月あたりこの金額を追加で支払う
            </span>
          </th>
          {% if plan_post_summary.backnumber_price %}
          <td class="_width50">{{ plan_post_summary.backnumber_price }}円</td>
          {% else %}
          <td class="_width50">未設定</td>
          {% endif %}
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            アクティブ投稿数
            <span class="tooltiptext">
              {{ plan_post_summary.first_month }}以降で<br/>
              今加入するとすぐに見ることができる件数
            </span>
          </th>
          <td>
            {{ plan_post_summary.total_plan_post_count }}件
          </td>
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            バックナンバー投稿数
            <span class="tooltiptext">{{ plan_post_summary.first_month }}以降</span>
          </th>
          <td>{{ plan_post_summary.total_backnumber_post_count }}件</td>
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            アクティブ投稿写真枚数
            <span class="tooltiptext">
              {{ plan_post_summary.first_month }}以降で<br />
              今加入するとすぐに見ることができる枚数
            </span>
          </th>
          <td>{{ plan_post_summary.total_plan_photo_count }}枚</td>
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            バックナンバー投稿写真枚数
            <span class="tooltiptext">{{ plan_post_summary.first_month }}以降</span>
          </th>
          <td>{{ plan_post_summary.total_backnumber_photo_count }}枚</td>
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            アクティブ動画時間
            <span class="tooltiptext">
              {{ plan_post_summary.first_month }}以降で<br/>
              今加入するとすぐに見ることができる合計時間
            </span>
          </th>
          <td>
            {{ plan_post_summary.total_plan_movie_time|floatformat:2 }}分
            {% if plan_post_summary.total_plan_movie_time > 60 %}
              ({{ plan_post_summary.total_plan_movie_hour|floatformat:2 }} 時間)
            {% endif %}
          </td>
        </tr>
        <tr>
          <th class="tooltip -tooltip-right _width100">
            バックナンバー動画時間
            <span class="tooltiptext">{{ plan_post_summary.first_month }}以降</span>
          </th>
          <td>
            {{ plan_post_summary.total_backnumber_movie_time|floatformat:2 }}分
            {% if plan_post_summary.total_backnumber_movie_time > 60 %}
              ({{ plan_post_summary.total_backnumber_movie_hour|floatformat:2 }} 時間)
            {% endif %}
          </td>
        </tr>

      </tbody>
    {% endfor %}
  </table>
</div>


  <div class="container graph-container">
    <canvas id="plan_post_stats"></canvas>
  </div>

  <div class="container graph-container">
    <canvas id="plan_photo_post_count_stats"></canvas>
  </div>
  <div class="container graph-container">
    <canvas id="plan_photo_count_stats"></canvas>
  </div>
  <div class="container graph-container">
    <canvas id="plan_movie_post_count_stats"></canvas>
  </div>
  <div class="container graph-container">
    <canvas id="plan_movie_time_stats"></canvas>
  </div>

  <script>
    create_graph(planBasedStats, 'plan_post_stats', 'プラン別投稿数')
    create_graph(planBasedStats, 'plan_photo_post_count_stats', 'プラン別写真投稿数')
    create_graph(planBasedStats, 'plan_photo_count_stats', 'プラン別写真枚数')
    create_graph(planBasedStats, 'plan_movie_post_count_stats', 'プラン別動画投稿数')
    create_graph(planBasedStats, 'plan_movie_time_stats', 'プラン別動画時間(分)')


</script>
<style>
  .graph-container {
      height: 400px;
      max-width: 400px;
  }
</style>